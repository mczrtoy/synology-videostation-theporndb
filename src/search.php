<?php
define('PLUGIN_USER_AGENT', 'io.github.mczrtoy.ThePornDB');

const API_URL_MOVIES = 'https://api.metadataapi.net/movies?';
const API_URL_SCENES = 'https://api.metadataapi.net/scenes?';
const API_URL_SITES = 'https://api.metadataapi.net/sites?';

const TEST_MOVIES = '{"data":[{"id":"21e5de62-972f-4cd7-8b0a-640218086dd2","_id":2978925,"title":"Matchball in Die Feuchte Spalte","type":"Movie","slug":"videorama-matchball-in-die-feuchte-spalte","external_id":"dvd39922","description":"","site_id":8508,"date":"2006-12-04","url":"https:\/\/sexvideoall.com\/item\/DVD39922\/en\/matchball-in-die-feuchte-spalte","image":"https:\/\/static.sexvideoall.com\/SamplePhoto\/DVD39922.jpg","poster":"https:\/\/cdn.metadataapi.net\/scene\/31\/11\/b9\/7ad74c3ef4a43bfde58d8cef35da1c5\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-large.jpg","trailer":null,"duration":5400,"format":null,"sku":null,"posters":{"large":"https:\/\/cdn.metadataapi.net\/scene\/31\/11\/b9\/7ad74c3ef4a43bfde58d8cef35da1c5\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-large.jpg","medium":"https:\/\/cdn.metadataapi.net\/scene\/31\/11\/b9\/7ad74c3ef4a43bfde58d8cef35da1c5\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-large.jpg","small":"https:\/\/cdn.metadataapi.net\/scene\/31\/11\/b9\/7ad74c3ef4a43bfde58d8cef35da1c5\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-large.jpg"},"background":{"full":"https:\/\/cdn.metadataapi.net\/scene\/31\/11\/b9\/7ad74c3ef4a43bfde58d8cef35da1c5\/background\/bg-videorama-matchball-in-die-feuchte-spalte.webp","large":"https:\/\/cdn.metadataapi.net\/scene\/31\/11\/b9\/7ad74c3ef4a43bfde58d8cef35da1c5\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-large.jpg","medium":"https:\/\/cdn.metadataapi.net\/scene\/31\/11\/b9\/7ad74c3ef4a43bfde58d8cef35da1c5\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-medium.jpg","small":"https:\/\/cdn.metadataapi.net\/scene\/31\/11\/b9\/7ad74c3ef4a43bfde58d8cef35da1c5\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-small.jpg"},"created":"2023-06-15","last_updated":"2023-06-16 05:02:53","performers":[],"site":{"uuid":8508,"id":8508,"parent_id":19998,"network_id":6474,"name":"Videorama","short_name":"videorama","url":null,"description":"Videorama is a part of the Adult DVD Empire network.","rating":0,"logo":null,"favicon":null,"poster":null,"network":{"uuid":6474,"id":6474,"name":"Adult DVD Empire","short_name":"adultdvdempire"},"parent":{"uuid":19998,"id":19998,"name":"Erotik","short_name":"erotik"}},"tags":[{"id":24,"name":"Cumshot"},{"id":127,"name":"Threesome"},{"id":241,"name":"Hardcore"},{"id":900,"name":"Oral Sex"}],"hashes":[]},{"id":"5b97a04a-78fb-46c1-8a54-d5f70892f93d","_id":2979695,"title":"Matchball in Die Feuchte Spalte","type":"Movie","slug":"videorama-matchball-in-die-feuchte-spalte-1","external_id":"dvd31646","description":"","site_id":8508,"date":"2005-10-06","url":"https:\/\/sexvideoall.com\/item\/DVD31646\/en\/matchball-in-die-feuchte-spalte","image":"https:\/\/static.sexvideoall.com\/SamplePhoto\/DVD31646.jpg","poster":"https:\/\/cdn.metadataapi.net\/scene\/a0\/b5\/ba\/23cc526232edadc9dc9d579dbcf6491\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-large.jpg","trailer":null,"duration":5400,"format":null,"sku":null,"posters":{"large":"https:\/\/cdn.metadataapi.net\/scene\/a0\/b5\/ba\/23cc526232edadc9dc9d579dbcf6491\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-large.jpg","medium":"https:\/\/cdn.metadataapi.net\/scene\/a0\/b5\/ba\/23cc526232edadc9dc9d579dbcf6491\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-large.jpg","small":"https:\/\/cdn.metadataapi.net\/scene\/a0\/b5\/ba\/23cc526232edadc9dc9d579dbcf6491\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-large.jpg"},"background":{"full":"https:\/\/cdn.metadataapi.net\/scene\/a0\/b5\/ba\/23cc526232edadc9dc9d579dbcf6491\/background\/bg-videorama-matchball-in-die-feuchte-spalte.webp","large":"https:\/\/cdn.metadataapi.net\/scene\/a0\/b5\/ba\/23cc526232edadc9dc9d579dbcf6491\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-large.jpg","medium":"https:\/\/cdn.metadataapi.net\/scene\/a0\/b5\/ba\/23cc526232edadc9dc9d579dbcf6491\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-medium.jpg","small":"https:\/\/cdn.metadataapi.net\/scene\/a0\/b5\/ba\/23cc526232edadc9dc9d579dbcf6491\/background\/c\/bg-videorama-matchball-in-die-feuchte-spalte-small.jpg"},"created":"2023-06-15","last_updated":"2023-06-16 04:52:02","performers":[],"site":{"uuid":8508,"id":8508,"parent_id":19998,"network_id":6474,"name":"Videorama","short_name":"videorama","url":null,"description":"Videorama is a part of the Adult DVD Empire network.","rating":0,"logo":null,"favicon":null,"poster":null,"network":{"uuid":6474,"id":6474,"name":"Adult DVD Empire","short_name":"adultdvdempire"},"parent":{"uuid":19998,"id":19998,"name":"Erotik","short_name":"erotik"}},"tags":[{"id":7,"name":"Outdoors"},{"id":24,"name":"Cumshot"},{"id":70,"name":"Anal"},{"id":127,"name":"Threesome"},{"id":241,"name":"Hardcore"},{"id":900,"name":"Oral Sex"}],"hashes":[]}],"links":{"first":"https:\/\/api.metadataapi.net\/movies?page=1","last":"https:\/\/api.metadataapi.net\/movies?page=1","prev":null,"next":null},"meta":{"current_page":1,"from":1,"last_page":1,"links":[{"url":null,"label":"&laquo; Previous","active":false},{"url":"https:\/\/api.metadataapi.net\/movies?page=1","label":"1","active":true},{"url":null,"label":"Next &raquo;","active":false}],"path":"https:\/\/api.metadataapi.net\/movies","per_page":24,"to":2,"total":2}}';
const TEST_SCENES = '{"data":[{"id":"f9a03313-f581-48a0-a5d0-57176d31e045","_id":794898,"title":"Mary & Eve","type":"Scene","slug":"tamed-teens-mary-eve","external_id":"tamedteens-mary-eve","description":"These two horny teens love to fuck. With a lot of hard anal and two double penetrations this is one of the hardest movies on Tamedteens. What a pair of teen sluts.","site_id":1127,"date":"2007-04-17","url":"https:\/\/perfectgonzo.com\/movies\/tamedteens-mary-eve","image":"https:\/\/static-cdn-perfectgonzo.explicithd.com\/content\/movies\/tamedteens-mary-eve\/pg-hd-cover-pic\/big-cover.jpg","poster":"https:\/\/thumb.metadataapi.net\/unsafe\/800x1200\/smart\/filters:sharpen():upscale():watermark(https%3A%2F%2Fcdn.metadataapi.net%2Fsites%2Ffd%2Fff%2F42%2Fd611964e7ed4bd30a3a47ffea57a47d%2Flogo%2Ftamedteens-logo.png,-10,-10,25,50)\/https%3A%2F%2Fcdn.metadataapi.net%2Fscene%2F59%2F05%2F85%2F417799ade58d8dff312e435009c84d1%2Fbackground%2Fbg-tamed-teens-mary-eve.webp","trailer":"https:\/\/trailers-cdn-perfectgonzo.explicithd.com\/content2\/movies\/tamedteens-mary-eve\/stream\/tamedteens-mary-eve_trailer.mp4","duration":2033,"format":null,"sku":null,"posters":{"large":"https:\/\/thumb.metadataapi.net\/unsafe\/800x1200\/smart\/filters:sharpen():upscale():watermark(https%3A%2F%2Fcdn.metadataapi.net%2Fsites%2Ffd%2Fff%2F42%2Fd611964e7ed4bd30a3a47ffea57a47d%2Flogo%2Ftamedteens-logo.png,-10,-10,25,50)\/https%3A%2F%2Fcdn.metadataapi.net%2Fscene%2F59%2F05%2F85%2F417799ade58d8dff312e435009c84d1%2Fbackground%2Fbg-tamed-teens-mary-eve.webp","medium":"https:\/\/thumb.metadataapi.net\/unsafe\/800x1200\/smart\/filters:sharpen():upscale():watermark(https%3A%2F%2Fcdn.metadataapi.net%2Fsites%2Ffd%2Fff%2F42%2Fd611964e7ed4bd30a3a47ffea57a47d%2Flogo%2Ftamedteens-logo.png,-10,-10,25,50)\/https%3A%2F%2Fcdn.metadataapi.net%2Fscene%2F59%2F05%2F85%2F417799ade58d8dff312e435009c84d1%2Fbackground%2Fbg-tamed-teens-mary-eve.webp","small":"https:\/\/thumb.metadataapi.net\/unsafe\/800x1200\/smart\/filters:sharpen():upscale():watermark(https%3A%2F%2Fcdn.metadataapi.net%2Fsites%2Ffd%2Fff%2F42%2Fd611964e7ed4bd30a3a47ffea57a47d%2Flogo%2Ftamedteens-logo.png,-10,-10,25,50)\/https%3A%2F%2Fcdn.metadataapi.net%2Fscene%2F59%2F05%2F85%2F417799ade58d8dff312e435009c84d1%2Fbackground%2Fbg-tamed-teens-mary-eve.webp"},"background":{"full":"https:\/\/cdn.metadataapi.net\/scene\/59\/05\/85\/417799ade58d8dff312e435009c84d1\/background\/bg-tamed-teens-mary-eve.webp","large":"https:\/\/cdn.metadataapi.net\/scene\/59\/05\/85\/417799ade58d8dff312e435009c84d1\/background\/bg-tamed-teens-mary-eve.webp","medium":"https:\/\/cdn.metadataapi.net\/scene\/59\/05\/85\/417799ade58d8dff312e435009c84d1\/background\/bg-tamed-teens-mary-eve.webp","small":"https:\/\/cdn.metadataapi.net\/scene\/59\/05\/85\/417799ade58d8dff312e435009c84d1\/background\/bg-tamed-teens-mary-eve.webp"},"created":"2020-04-08","last_updated":"2022-10-15 03:54:39","performers":[{"id":"80302f8a-33bf-45c0-bf5a-6ce0706d493e","_id":166782,"slug":"3525-ana","site_id":3525,"name":"Ana","bio":null,"is_parent":false,"extra":{"astrology":null,"birthday":null,"birthplace":null,"cupsize":null,"ethnicity":"Caucasian","eye_colour":null,"fakeboobs":false,"gender":"Female","haircolor":null,"height":null,"measurements":null,"nationality":"Hungarian","piercings":"Yes","tattoos":"Yes","weight":null},"image":"https:\/\/cdn.metadataapi.net\/performer_site\/d6\/40\/ad\/7cd01271d1468588903d6e6b1652fad\/poster\/bg-ana.jpg","thumbnail":"https:\/\/cdn.metadataapi.net\/performer_site\/d6\/40\/ad\/7cd01271d1468588903d6e6b1652fad\/poster\/bg-ana.jpg","face":"https:\/\/cdn.metadataapi.net\/performer_site\/d6\/40\/ad\/7cd01271d1468588903d6e6b1652fad\/poster\/bg-ana.jpg","parent":null},{"id":"09e09b14-4fbf-4f49-9b0b-eeb74f69b72d","_id":167372,"slug":"3525-ellie","site_id":3525,"name":"Ellie","bio":null,"is_parent":false,"extra":{"astrology":null,"birthday":null,"birthplace":null,"cupsize":null,"ethnicity":null,"eye_colour":null,"fakeboobs":false,"gender":"Female","haircolor":null,"height":null,"measurements":null,"nationality":null,"piercings":null,"tattoos":null,"weight":null},"image":"https:\/\/cdn.metadataapi.net\/performer_site\/62\/08\/6d\/bb4fdd7560bd1199008e2d560977a22\/poster\/ellie.jpg","thumbnail":"https:\/\/cdn.metadataapi.net\/performer_site\/62\/08\/6d\/bb4fdd7560bd1199008e2d560977a22\/poster\/ellie.jpg","face":"https:\/\/cdn.metadataapi.net\/performer_site\/62\/08\/6d\/bb4fdd7560bd1199008e2d560977a22\/poster\/ellie.jpg","parent":null}],"site":{"uuid":1127,"id":1127,"parent_id":968,"network_id":3525,"name":"Tamed Teens","short_name":"tamedteens","url":null,"description":"Tamed Teens is a part of the DEV8 Entertainment network.","rating":0,"logo":"https:\/\/cdn.metadataapi.net\/sites\/fd\/ff\/42\/d611964e7ed4bd30a3a47ffea57a47d\/logo\/tamedteens-logo.png","network":{"uuid":3525,"id":3525,"name":"DEV8 Entertainment","short_name":"dev8entertainment"},"parent":{"uuid":968,"id":968,"name":"Perfect Gonzo","short_name":"perfectgonzo"}},"tags":[{"id":2,"name":"Sex"},{"id":7,"name":"Outdoors"},{"id":14,"name":"Caucasian"},{"id":29,"name":"Blowjob"},{"id":31,"name":"Face Fuck"},{"id":32,"name":"Gagging"},{"id":36,"name":"Cowgirl"},{"id":69,"name":"Spanking"},{"id":70,"name":"Anal"},{"id":91,"name":"Hair Pulling"},{"id":114,"name":"Piercing"},{"id":229,"name":"Double Penetration"},{"id":237,"name":"Shaved Pussy"},{"id":256,"name":"Deepthroat"},{"id":386,"name":"Small Boobs"},{"id":440,"name":"Bra"},{"id":738,"name":"Fishnets"},{"id":795,"name":"Skirts"},{"id":798,"name":"Slutty"},{"id":801,"name":"Camel Toe"},{"id":980,"name":"Big Clit"},{"id":1762,"name":"Public Nudity"},{"id":1780,"name":"Light"},{"id":1800,"name":"Eye Contact"},{"id":1805,"name":"Perky"},{"id":4552,"name":"Pussy"},{"id":11177,"name":"Boots"},{"id":11906,"name":"Blonde"},{"id":12014,"name":"Rough Sex"},{"id":12018,"name":"Lingerie"},{"id":12843,"name":"Atm"},{"id":14467,"name":"Reverse Cowgirl"},{"id":14657,"name":"Bubble Butt"},{"id":14792,"name":"Redhead"},{"id":14895,"name":"Tattoos"},{"id":15460,"name":"Large Labia"},{"id":19612,"name":"Boob Play"}],"hashes":[{"can_delete":false,"created_at":"2023-05-28T22:46:38+00:00","duration":2032,"hash":"16659299e0a34776","id":5754891,"scene_id":794898,"submissions":1,"type":"OSHASH","updated_at":"2023-05-28T22:46:38+00:00","users":["130"]},{"can_delete":false,"created_at":"2023-05-28T22:46:38+00:00","duration":2032,"hash":"d0fc90d8e3e226e9","id":5754888,"scene_id":794898,"submissions":1,"type":"PHASH","updated_at":"2023-05-28T22:46:38+00:00","users":["130"]}]},{"id":"879a239c-4f35-4b50-8a89-be98a484265e","_id":794960,"title":"Ellie","type":"Scene","slug":"tamed-teens-ellie","external_id":"tamedteens-ellie","description":"This fresh teen is ready for two big hard cocks. Our horny guys drill her straight to the ass before DPing her and having her swallow down two big loads of cum.","site_id":1127,"date":"2007-04-03","url":"https:\/\/perfectgonzo.com\/movies\/tamedteens-ellie","image":"https:\/\/static-cdn-perfectgonzo.explicithd.com\/content\/movies\/tamedteens-ellie\/pg-hd-cover-pic\/big-cover.jpg","poster":"https:\/\/thumb.metadataapi.net\/unsafe\/800x1200\/smart\/filters:sharpen():upscale():watermark(https%3A%2F%2Fcdn.metadataapi.net%2Fsites%2Ffd%2Fff%2F42%2Fd611964e7ed4bd30a3a47ffea57a47d%2Flogo%2Ftamedteens-logo.png,-10,-10,25,50)\/https%3A%2F%2Fcdn.metadataapi.net%2Fscene%2F2b%2F43%2F73%2Fa36a60d3a4e302f3bb86462c423377a%2Fbackground%2Fbg-tamed-teens-ellie.webp","trailer":"https:\/\/trailers-cdn-perfectgonzo.explicithd.com\/content2\/movies\/tamedteens-ellie\/stream\/tamedteens-ellie_trailer.mp4","duration":2050,"format":null,"sku":null,"posters":{"large":"https:\/\/thumb.metadataapi.net\/unsafe\/800x1200\/smart\/filters:sharpen():upscale():watermark(https%3A%2F%2Fcdn.metadataapi.net%2Fsites%2Ffd%2Fff%2F42%2Fd611964e7ed4bd30a3a47ffea57a47d%2Flogo%2Ftamedteens-logo.png,-10,-10,25,50)\/https%3A%2F%2Fcdn.metadataapi.net%2Fscene%2F2b%2F43%2F73%2Fa36a60d3a4e302f3bb86462c423377a%2Fbackground%2Fbg-tamed-teens-ellie.webp","medium":"https:\/\/thumb.metadataapi.net\/unsafe\/800x1200\/smart\/filters:sharpen():upscale():watermark(https%3A%2F%2Fcdn.metadataapi.net%2Fsites%2Ffd%2Fff%2F42%2Fd611964e7ed4bd30a3a47ffea57a47d%2Flogo%2Ftamedteens-logo.png,-10,-10,25,50)\/https%3A%2F%2Fcdn.metadataapi.net%2Fscene%2F2b%2F43%2F73%2Fa36a60d3a4e302f3bb86462c423377a%2Fbackground%2Fbg-tamed-teens-ellie.webp","small":"https:\/\/thumb.metadataapi.net\/unsafe\/800x1200\/smart\/filters:sharpen():upscale():watermark(https%3A%2F%2Fcdn.metadataapi.net%2Fsites%2Ffd%2Fff%2F42%2Fd611964e7ed4bd30a3a47ffea57a47d%2Flogo%2Ftamedteens-logo.png,-10,-10,25,50)\/https%3A%2F%2Fcdn.metadataapi.net%2Fscene%2F2b%2F43%2F73%2Fa36a60d3a4e302f3bb86462c423377a%2Fbackground%2Fbg-tamed-teens-ellie.webp"},"background":{"full":"https:\/\/cdn.metadataapi.net\/scene\/2b\/43\/73\/a36a60d3a4e302f3bb86462c423377a\/background\/bg-tamed-teens-ellie.webp","large":"https:\/\/cdn.metadataapi.net\/scene\/2b\/43\/73\/a36a60d3a4e302f3bb86462c423377a\/background\/bg-tamed-teens-ellie.webp","medium":"https:\/\/cdn.metadataapi.net\/scene\/2b\/43\/73\/a36a60d3a4e302f3bb86462c423377a\/background\/bg-tamed-teens-ellie.webp","small":"https:\/\/cdn.metadataapi.net\/scene\/2b\/43\/73\/a36a60d3a4e302f3bb86462c423377a\/background\/bg-tamed-teens-ellie.webp"},"created":"2020-04-08","last_updated":"2022-10-15 03:54:31","performers":[{"id":"09e09b14-4fbf-4f49-9b0b-eeb74f69b72d","_id":167372,"slug":"3525-ellie","site_id":3525,"name":"Ellie","bio":null,"is_parent":false,"extra":{"astrology":null,"birthday":null,"birthplace":null,"cupsize":null,"ethnicity":null,"eye_colour":null,"fakeboobs":false,"gender":"Female","haircolor":null,"height":null,"measurements":null,"nationality":null,"piercings":null,"tattoos":null,"weight":null},"image":"https:\/\/cdn.metadataapi.net\/performer_site\/62\/08\/6d\/bb4fdd7560bd1199008e2d560977a22\/poster\/ellie.jpg","thumbnail":"https:\/\/cdn.metadataapi.net\/performer_site\/62\/08\/6d\/bb4fdd7560bd1199008e2d560977a22\/poster\/ellie.jpg","face":"https:\/\/cdn.metadataapi.net\/performer_site\/62\/08\/6d\/bb4fdd7560bd1199008e2d560977a22\/poster\/ellie.jpg","parent":null}],"site":{"uuid":1127,"id":1127,"parent_id":968,"network_id":3525,"name":"Tamed Teens","short_name":"tamedteens","url":null,"description":"Tamed Teens is a part of the DEV8 Entertainment network.","rating":0,"logo":"https:\/\/cdn.metadataapi.net\/sites\/fd\/ff\/42\/d611964e7ed4bd30a3a47ffea57a47d\/logo\/tamedteens-logo.png","network":{"uuid":3525,"id":3525,"name":"DEV8 Entertainment","short_name":"dev8entertainment"},"parent":{"uuid":968,"id":968,"name":"Perfect Gonzo","short_name":"perfectgonzo"}},"tags":[{"id":2,"name":"Sex"},{"id":14,"name":"Caucasian"},{"id":31,"name":"Face Fuck"},{"id":36,"name":"Cowgirl"},{"id":37,"name":"Doggystyle"},{"id":64,"name":"Missionary"},{"id":70,"name":"Anal"},{"id":229,"name":"Double Penetration"},{"id":237,"name":"Shaved Pussy"},{"id":256,"name":"Deepthroat"},{"id":604,"name":"Couch"},{"id":738,"name":"Fishnets"},{"id":798,"name":"Slutty"},{"id":812,"name":"Blowbang"},{"id":980,"name":"Big Clit"},{"id":1491,"name":"Standing Sex"},{"id":1762,"name":"Public Nudity"},{"id":1780,"name":"Light"},{"id":1800,"name":"Eye Contact"},{"id":3347,"name":"Teasing"},{"id":4552,"name":"Pussy"},{"id":11177,"name":"Boots"},{"id":11906,"name":"Blonde"},{"id":12014,"name":"Rough Sex"},{"id":12018,"name":"Lingerie"},{"id":12843,"name":"Atm"},{"id":14657,"name":"Bubble Butt"},{"id":16157,"name":"Costume"},{"id":19612,"name":"Boob Play"}],"hashes":[{"can_delete":false,"created_at":"2023-05-28T22:46:38+00:00","duration":2050,"hash":"bd23477888638b76","id":5754885,"scene_id":794960,"submissions":1,"type":"PHASH","updated_at":"2023-05-28T22:46:38+00:00","users":["130"]},{"can_delete":false,"created_at":"2023-05-28T22:46:38+00:00","duration":2050,"hash":"ed58084f8488d876","id":5754886,"scene_id":794960,"submissions":1,"type":"OSHASH","updated_at":"2023-05-28T22:46:38+00:00","users":["130"]}]},{"id":"5538b9cf-37dc-4320-9161-75fe710bcbae","_id":2761688,"title":"Tramp Stamp Teen Gets Tagged Teamed","type":"Scene","slug":"interracial-pass-tramp-stamp-teen-gets-tagged-teamed","external_id":"Tramp-Stamp-Teen-Gets-Tagged-Teamed","description":"Young teen Allie gets tagged teamed by Blackzilla and Boz and their big black dicks in this addition of its 2 Big to Be True! This young brunette sucks and fucks 2 monster cocks like a tramp, that\'s because Allie is and she\'s got the stamp to prove it! One big black dick in her mouth and one pounding her pussy, that\'s how Allie wants it. Lucky for her she found the right big dick dudes, Blackzilla and Boz got the tools and their rock hard BBCs fuck this teen tramp till they blow their loads all over her face!","site_id":3110,"date":"2023-02-27","url":"https:\/\/interracialpass.com\/t1\/trailers\/Tramp-Stamp-Teen-Gets-Tagged-Teamed.html","image":"https:\/\/www.interracialpass.com\/t1\/content\/\/contentthumbs\/42\/50\/4250-1x.jpg","poster":"https:\/\/thumb.metadataapi.net\/unsafe\/800x1200\/smart\/filters:sharpen():upscale()\/https%3A%2F%2Fcdn.metadataapi.net%2Fscene%2Fa8%2F56%2Fb5%2F9a4ae7564e95887db40625cceac3f18%2Fbackground%2Fbg-interracial-pass-tramp-stamp-teen-gets-tagged-teamed.webp","trailer":null,"duration":2780,"format":null,"sku":null,"posters":{"large":"https:\/\/thumb.metadataapi.net\/unsafe\/800x1200\/smart\/filters:sharpen():upscale()\/https%3A%2F%2Fcdn.metadataapi.net%2Fscene%2Fa8%2F56%2Fb5%2F9a4ae7564e95887db40625cceac3f18%2Fbackground%2Fbg-interracial-pass-tramp-stamp-teen-gets-tagged-teamed.webp","medium":"https:\/\/thumb.metadataapi.net\/unsafe\/800x1200\/smart\/filters:sharpen():upscale()\/https%3A%2F%2Fcdn.metadataapi.net%2Fscene%2Fa8%2F56%2Fb5%2F9a4ae7564e95887db40625cceac3f18%2Fbackground%2Fbg-interracial-pass-tramp-stamp-teen-gets-tagged-teamed.webp","small":"https:\/\/thumb.metadataapi.net\/unsafe\/800x1200\/smart\/filters:sharpen():upscale()\/https%3A%2F%2Fcdn.metadataapi.net%2Fscene%2Fa8%2F56%2Fb5%2F9a4ae7564e95887db40625cceac3f18%2Fbackground%2Fbg-interracial-pass-tramp-stamp-teen-gets-tagged-teamed.webp"},"background":{"full":"https:\/\/cdn.metadataapi.net\/scene\/a8\/56\/b5\/9a4ae7564e95887db40625cceac3f18\/background\/bg-interracial-pass-tramp-stamp-teen-gets-tagged-teamed.webp","large":"https:\/\/cdn.metadataapi.net\/scene\/a8\/56\/b5\/9a4ae7564e95887db40625cceac3f18\/background\/bg-interracial-pass-tramp-stamp-teen-gets-tagged-teamed.webp","medium":"https:\/\/cdn.metadataapi.net\/scene\/a8\/56\/b5\/9a4ae7564e95887db40625cceac3f18\/background\/bg-interracial-pass-tramp-stamp-teen-gets-tagged-teamed.webp","small":"https:\/\/cdn.metadataapi.net\/scene\/a8\/56\/b5\/9a4ae7564e95887db40625cceac3f18\/background\/bg-interracial-pass-tramp-stamp-teen-gets-tagged-teamed.webp"},"created":"2023-02-27","last_updated":"2023-04-16 18:16:38","performers":[{"id":"1e4b1768-43e3-48ea-a463-123b4200ae64","_id":1285913,"slug":"20559-allie","site_id":20559,"name":"Allie","bio":null,"is_parent":false,"extra":{"astrology":null,"birthday":null,"birthplace":null,"cupsize":null,"ethnicity":null,"eye_colour":null,"fakeboobs":false,"gender":null,"haircolor":null,"height":null,"measurements":null,"nationality":null,"piercings":null,"tattoos":null,"weight":null},"image":"https:\/\/cdn.metadataapi.net\/performer\/default_03.png","thumbnail":"https:\/\/cdn.metadataapi.net\/performer\/default_03.png","face":"https:\/\/cdn.metadataapi.net\/performer\/default_03.png","parent":{"id":"7a1f7ab9-8e1f-4731-ba3d-8c5841d3ca5a","_id":248338,"slug":"allie","name":"Allie","bio":null,"is_parent":true,"extras":{"gender":null,"birthday":null,"birthday_timestamp":null,"birthplace":null,"birthplace_code":null,"astrology":null,"ethnicity":null,"nationality":null,"hair_colour":null,"weight":null,"height":null,"measurements":null,"cupsize":null,"tattoos":null,"piercings":null,"waist":null,"hips":null},"image":"https:\/\/cdn.metadataapi.net\/performer\/default_03.png","thumbnail":"https:\/\/cdn.metadataapi.net\/performer\/default_03.png","face":null,"posters":[]}},{"id":"cd5057cf-8cc9-4bad-87a7-66ffc8deb240","_id":1276483,"slug":"20559-boz","site_id":20559,"name":"Boz","bio":null,"is_parent":false,"extra":{"astrology":null,"birthday":null,"birthplace":null,"cupsize":null,"ethnicity":null,"eye_colour":null,"fakeboobs":false,"gender":null,"haircolor":null,"height":null,"measurements":null,"nationality":null,"piercings":null,"tattoos":null,"weight":null},"image":"https:\/\/cdn.metadataapi.net\/performer\/3a\/32\/27\/be0ab8d5a235a1c1c9c16c971c2d4c2\/poster\/c4FkrgI5GzIFJFz0EFCQEyyCBFDqtw-metaZXN0ZWxsZS1ydXRoLWJsYWNrd2VsbC1ib3otMTRbMV0uanBn-.jpg","thumbnail":"https:\/\/cdn.metadataapi.net\/performer\/3a\/32\/27\/be0ab8d5a235a1c1c9c16c971c2d4c2\/poster\/c4FkrgI5GzIFJFz0EFCQEyyCBFDqtw-metaZXN0ZWxsZS1ydXRoLWJsYWNrd2VsbC1ib3otMTRbMV0uanBn-.jpg","face":"https:\/\/cdn.metadataapi.net\/performer\/3a\/32\/27\/be0ab8d5a235a1c1c9c16c971c2d4c2\/poster\/c4FkrgI5GzIFJFz0EFCQEyyCBFDqtw-metaZXN0ZWxsZS1ydXRoLWJsYWNrd2VsbC1ib3otMTRbMV0uanBn-.jpg","parent":{"id":"e27480b3-54b0-4fbc-a50a-54d8f4a51ad4","_id":246383,"slug":"boz","name":"Boz","bio":null,"is_parent":true,"extras":{"gender":"Male","birthday":"1971-02-13","birthday_timestamp":35251200,"birthplace":null,"birthplace_code":null,"astrology":"aquarius","ethnicity":"Black","nationality":"United States","hair_colour":"Black","weight":null,"height":"165cm","measurements":null,"cupsize":null,"tattoos":null,"piercings":null,"waist":null,"hips":null},"image":"https:\/\/cdn.metadataapi.net\/performer\/3a\/32\/27\/be0ab8d5a235a1c1c9c16c971c2d4c2\/poster\/c4FkrgI5GzIFJFz0EFCQEyyCBFDqtw-metaZXN0ZWxsZS1ydXRoLWJsYWNrd2VsbC1ib3otMTRbMV0uanBn-.jpg","thumbnail":"https:\/\/cdn.metadataapi.net\/performer\/3a\/32\/27\/be0ab8d5a235a1c1c9c16c971c2d4c2\/poster\/c4FkrgI5GzIFJFz0EFCQEyyCBFDqtw-metaZXN0ZWxsZS1ydXRoLWJsYWNrd2VsbC1ib3otMTRbMV0uanBn-.jpg","face":"https:\/\/thumb.metadataapi.net\/unsafe\/500x500\/smart\/https%3A%2F%2Fcdn.metadataapi.net%2Fperformer%2F3a%2F32%2F27%2Fbe0ab8d5a235a1c1c9c16c971c2d4c2%2Fposter%2Fc4FkrgI5GzIFJFz0EFCQEyyCBFDqtw-metaZXN0ZWxsZS1ydXRoLWJsYWNrd2VsbC1ib3otMTRbMV0uanBn-.jpg","posters":[{"id":17387029,"url":"https:\/\/cdn.metadataapi.net\/performer\/3a\/32\/27\/be0ab8d5a235a1c1c9c16c971c2d4c2\/poster\/c4FkrgI5GzIFJFz0EFCQEyyCBFDqtw-metaZXN0ZWxsZS1ydXRoLWJsYWNrd2VsbC1ib3otMTRbMV0uanBn-.jpg","size":288680,"order":1}]}},{"id":"fc1a1dc1-5b81-4b5d-a355-e32531ef5598","_id":1276485,"slug":"20559-shane-diesel","site_id":20559,"name":"Shane Diesel","bio":null,"is_parent":false,"extra":{"astrology":null,"birthday":null,"birthplace":null,"cupsize":null,"ethnicity":null,"eye_colour":null,"fakeboobs":false,"gender":null,"haircolor":null,"height":null,"measurements":null,"nationality":null,"piercings":null,"tattoos":null,"weight":null},"image":"https:\/\/cdn.metadataapi.net\/performer\/7c\/5e\/30\/f544c6b933151f4f19da28f022f76f0\/poster\/0dff4088a4ee4c5b9d3b38a51a5a1fc7fb2a615f","thumbnail":"https:\/\/cdn.metadataapi.net\/performer\/7c\/5e\/30\/f544c6b933151f4f19da28f022f76f0\/poster\/0dff4088a4ee4c5b9d3b38a51a5a1fc7fb2a615f","face":"https:\/\/cdn.metadataapi.net\/performer\/7c\/5e\/30\/f544c6b933151f4f19da28f022f76f0\/poster\/0dff4088a4ee4c5b9d3b38a51a5a1fc7fb2a615f","parent":{"id":"7881b8d4-1328-42e2-a8db-810d0b283801","_id":86701,"slug":"shane-diesel","name":"Shane Diesel","bio":"Shane worked as a physical fitness trainer before breaking into the world of adult entertainment which answers why he continues to have a fabulous form.  He also worked in a health food store in California.  <br\/><br\/>Shane entered the industry in 2003 and also has his own personal website as well as starring in an array of mind-blowing scenes.","is_parent":true,"extras":{"gender":"Male","birthday":"1963-07-28","birthday_timestamp":-202953600,"birthplace":"US","birthplace_code":"US","astrology":"Leo","ethnicity":"Black","nationality":"US","hair_colour":"Black","weight":"91kg","height":"214cm","measurements":"34b-26-36","cupsize":"34b","tattoos":null,"piercings":null,"waist":"26","hips":"36"},"image":"https:\/\/cdn.metadataapi.net\/performer\/7c\/5e\/30\/f544c6b933151f4f19da28f022f76f0\/poster\/0dff4088a4ee4c5b9d3b38a51a5a1fc7fb2a615f","thumbnail":"https:\/\/cdn.metadataapi.net\/performer\/7c\/5e\/30\/f544c6b933151f4f19da28f022f76f0\/poster\/0dff4088a4ee4c5b9d3b38a51a5a1fc7fb2a615f","face":"https:\/\/thumb.metadataapi.net\/unsafe\/500x500\/smart\/https%3A%2F%2Fcdn.metadataapi.net%2Fperformer%2F7c%2F5e%2F30%2Ff544c6b933151f4f19da28f022f76f0%2Fposter%2F0dff4088a4ee4c5b9d3b38a51a5a1fc7fb2a615f","posters":[{"id":7389031,"url":"https:\/\/cdn.metadataapi.net\/performer\/7c\/5e\/30\/f544c6b933151f4f19da28f022f76f0\/poster\/0dff4088a4ee4c5b9d3b38a51a5a1fc7fb2a615f","size":746355,"order":1},{"id":13535490,"url":"https:\/\/cdn.metadataapi.net\/performer\/f7\/24\/09\/6feb33342d306baf72cd01605db000b\/poster\/shane-diesel.webp","size":339532,"order":2},{"id":7389015,"url":"https:\/\/cdn.metadataapi.net\/performer\/97\/5f\/d2\/a1e41b4523e2f262b6d1796e3d62cee\/poster\/3b86a80cfef0bea8e5b85f0986ceb706ef193ecf","size":176868,"order":3},{"id":2574261,"url":"https:\/\/cdn.metadataapi.net\/performer\/e4\/52\/9d\/1143e27c1dd818ff5600bb756d047f7\/poster\/shane-diesel.jpg","size":91473,"order":4},{"id":2260149,"url":"https:\/\/cdn.metadataapi.net\/performer\/09\/95\/42\/6d23439070db8ef8791b725ed8f9b0f\/poster\/shane-diesel.jpg","size":76891,"order":5},{"id":7389025,"url":"https:\/\/cdn.metadataapi.net\/performer\/33\/22\/d6\/6cc492d003ff8c6829a48ff86d72dbe\/poster\/b814f757c39fb12b67e338f99e097aec979bc493","size":55855,"order":6},{"id":7389006,"url":"https:\/\/cdn.metadataapi.net\/performer\/43\/16\/ee\/f4841f86248111cea9f21da6e8f1d66\/poster\/2d9af9f23c496751dffc29805bcea09d82e76b3b","size":28009,"order":7},{"id":2550013,"url":"https:\/\/cdn.metadataapi.net\/performer\/e2\/0f\/c2\/b96e09c6c91a54af846cd6dac126c43\/poster\/shane-diesel.jpg","size":24642,"order":8},{"id":16697938,"url":"https:\/\/cdn.metadataapi.net\/performer\/32\/b5\/d0\/a77b210dff38b3a2d021ac56668a48f\/poster\/shane-diesel.webp","size":13748,"order":9},{"id":2466858,"url":"https:\/\/cdn.metadataapi.net\/performer\/a5\/59\/1f\/a3147447ef4e4875b733024847efaac\/poster\/shane-diesel.jpg","size":12184,"order":10},{"id":2375173,"url":"https:\/\/cdn.metadataapi.net\/performer\/44\/6d\/4b\/53010c1e1567eb039c4b92e2d9c217d\/poster\/shane-diesel.jpg","size":9378,"order":11}]}}],"site":{"uuid":3110,"id":3110,"parent_id":null,"network_id":20559,"name":"Interracial Pass","short_name":"interracialpass","url":null,"description":"Interracial Pass is a part of the ExploitedX Network network.","rating":0,"logo":null,"favicon":"https:\/\/cdn.metadataapi.net\/sites\/b2\/56\/b0\/a2a2a6b72ddb61d503af7bb6148cb2f\/favicon\/interracialpass-logo.png","poster":null,"network":{"uuid":20559,"id":20559,"name":"ExploitedX Network","short_name":"exploitedx"},"parent":null},"tags":[{"id":25,"name":"Facial"},{"id":51,"name":"Brunette"},{"id":127,"name":"Threesome"},{"id":171,"name":"Teen"},{"id":189,"name":"College"},{"id":237,"name":"Shaved Pussy"},{"id":798,"name":"Slutty"},{"id":11891,"name":"BBC"},{"id":12014,"name":"Rough Sex"},{"id":14718,"name":"Big Ass"},{"id":14895,"name":"Tattoos"},{"id":81458,"name":"2 Big To Be True"}],"hashes":[]}],"links":{"first":"https:\/\/api.metadataapi.net\/scenes?page=1","last":"https:\/\/api.metadataapi.net\/scenes?page=1","prev":null,"next":null},"meta":{"current_page":1,"from":1,"last_page":1,"links":[{"url":null,"label":"&laquo; Previous","active":false},{"url":"https:\/\/api.metadataapi.net\/scenes?page=1","label":"1","active":true},{"url":null,"label":"Next &raquo;","active":false}],"path":"https:\/\/api.metadataapi.net\/scenes","per_page":24,"to":3,"total":3}}';
const TEST_SITE = '{"data":[{"uuid":"b6caaaa9-c855-4cb2-841f-e428bd0ea2b5","id":1127,"parent_id":968,"network_id":3525,"name":"Tamed Teens","short_name":"tamedteens","url":"https:\/\/perfectgonzo.com","description":"Tamed Teens is a part of the DEV8 Entertainment network.","rating":0,"logo":"https:\/\/cdn.metadataapi.net\/sites\/fd\/ff\/42\/d611964e7ed4bd30a3a47ffea57a47d\/logo\/tamedteens-logo.png","favicon":"https:\/\/cdn.metadataapi.net\/sites\/f2\/46\/ed\/9eb2b7325d10ab0e8cc574a7168d68e\/favicon\/tamedteens-logo.png","poster":"https:\/\/cdn.metadataapi.net\/sites\/b4\/8d\/0a\/04c135ce626428496b4424788bbbdf8\/poster\/poster.jpg","network":{"uuid":"cd3506dc-e4a9-4207-962a-bfb2693c70b3","id":3525,"name":"DEV8 Entertainment","short_name":"dev8entertainment"},"parent":{"uuid":"84ab429d-7a36-4d71-8b75-57eae119cfcd","id":968,"name":"Perfect Gonzo","short_name":"perfectgonzo"}}],"links":{"first":"https:\/\/api.metadataapi.net\/sites?page=1","last":"https:\/\/api.metadataapi.net\/sites?page=1","prev":null,"next":null},"meta":{"current_page":1,"from":1,"last_page":1,"links":[{"url":null,"label":"&laquo; Previous","active":false},{"url":"https:\/\/api.metadataapi.net\/sites?page=1","label":"1","active":true},{"url":null,"label":"Next &raquo;","active":false}],"path":"https:\/\/api.metadataapi.net\/sites","per_page":24,"to":1,"total":1}}';


$nameMapper = function($p) {
    return $p->name;
};
$isValidImage = function($i) {
    return !empty($i) && !str_ends_with($i, 'webp');
};

function search_movie($input, $limit, $apikey)
{
    $movieMapper = function($r) {
        global $isValidImage, $nameMapper;
        $unknown = new stdClass;
        $unknown->name = 'Unknown';
        $unknown_array = array($unknown);

        $ret = new stdClass;
        $ret->certificate = 'NC-17';
        $ret->title = $r->title;
        $ret->summary = empty($r->description) ? $r->title : $r->description;
        $ret->original_available = $r->date;
        $ret->genre = array_map($nameMapper, empty($r->tags) ? $unknown_array : $r->tags);
        $ret->actor = array_map($nameMapper, empty($r->performers) ? $unknown_array : $r->performers);
        $ret->director = array_map($nameMapper, $unknown_array);
        $ret->writer = array_map($nameMapper, $unknown_array);

        $extra = new stdClass;
        if (!empty($r->background)) {
            $extra->backdrop = array_unique(array_values(array_filter(array_values(get_object_vars($r->background)), $isValidImage)));
        }
        $poster_array = array();
        if (!empty($s->poster)) {
            $poster_array = array($r->poster);
        }
        if (!empty($r->posters)) {
            $poster_array = array_merge($poster_array, array_values(get_object_vars($r->posters)));
        }
        $poster_array = array_unique(array_values(array_filter($poster_array, $isValidImage)));
        if (!empty($poster_array)) {
            $extra->poster = $poster_array;
        }

        $reference = new stdClass;
        $reference->theporndb = $r->id;
        $reference->theporndb_id = $r->_id;
        $extra->reference = $reference;

        $ret->extra = new stdClass;
        $ret->extra->{'io.github.mczrtoy.ThePornDB'} = $extra;
        return $ret;
    };

    $response = TEST_MOVIES;
    if (!empty($apikey)) {
        $curl = curl_init();
        $url = API_URL_MOVIES.http_build_query(array(
                'parse' => trim($input->title),
                'page' => 1,
                'per_page' => max(10, $limit)
        ));
        curl_setopt_array($curl, array(
            CURLOPT_HTTPHEADER => [
                'Accept: application/json',
                'Authorization: Bearer '.$apikey
            ],
            CURLOPT_RETURNTRANSFER => true,
            CURLOPT_URL => $url,
            CURLOPT_USERAGENT => PLUGIN_USER_AGENT,
            CURLOPT_SSL_VERIFYHOST => false,
            CURLOPT_SSL_VERIFYPEER => false,
        ));
        $response = curl_exec($curl);

        if ($response === false || curl_getinfo($curl, CURLINFO_RESPONSE_CODE) != 200) {
            $err = new stdClass;
            $err->success = false;
            $err->error_code = 1003;
            curl_close($curl);
            return $err;
        }
        curl_close($curl);
    }

    $json = json_decode($response);
    $result = array_map($movieMapper, array_slice($json->data, 0, $limit));

    $ret = new stdClass;
    $ret->success = true;
    $ret->result = $result;
    return $ret;
}

function search_scene($input, $limit, $apikey)
{
    $sceneMapper = function($r) {
        global $isValidImage, $nameMapper;
        $showMapper = function($s) {
            global $isValidImage;
            $show = new stdClass;
            $show->title = $s->name;
            $show->summary = empty($s->description) ? $s->name : $s->description;
            $show->original_available = '1888-01-01';

            $extra = new stdClass;
            $poster_array = array();
            if (!empty($s->poster)) {
                $poster_array = array($s->poster);
            }
            if (!empty($s->posters)) {
                $poster_array = array_merge($poster_array, array_values(get_object_vars($s->posters)));
            }
            $poster_array = array_unique(array_values(array_filter($poster_array, $isValidImage)));
            if (!empty($poster_array)) {
                $extra->poster = $poster_array;

                $show->extra = new stdClass;
                $show->extra->{'io.github.mczrtoy.ThePornDB'} = $extra;
            }
            return $show;
        };

        $unknown = new stdClass;
        $unknown->name = 'Unknown';
        $unknown_array = array($unknown);

        $ret = new stdClass;
        $ret->certificate = 'TV-MA';
        $ret->title = $r->site->name;
        $ret->tagline = $r->title;
        $ret->original_available = $r->date;
        $ret->summary = empty($r->description) ? $r->title : $r->description;
        $ret->genre = array_map($nameMapper, empty($r->tags) ? $unknown_array : $r->tags);
        $ret->actor = array_map($nameMapper, empty($r->performers) ? $unknown_array : $r->performers);
        $ret->director = array_map($nameMapper, $unknown_array);
        $ret->writer = array_map($nameMapper, $unknown_array);
        $ret->episode = $r->site_id;
        $ret->season = 1;

        $extra = new stdClass;
        $extra->tvshow = $showMapper($r->site);
        if ($isValidImage($r->image)) {
            $extra->poster = array($r->image);
        }

        $reference = new stdClass;
        $reference->theporndb = $r->id;
        $reference->theporndb_id = $r->_id;
        $extra->reference = $reference;

        $ret->extra = new stdClass;
        $ret->extra->{'io.github.mczrtoy.ThePornDB'} = $extra;
        return $ret;
    };

    $response = TEST_SCENES;
    if (!empty($apikey)) {
        $curl = curl_init();
        $url = API_URL_SCENES.http_build_query(array(
                'parse' => trim($input->title.' '.($input->original_available ?? '')),
                'page' => 1,
                'per_page' => max(10, $limit)
        ));
        curl_setopt_array($curl, array(
            CURLOPT_HTTPHEADER => [
                'Accept: application/json',
                'Authorization: Bearer '.$apikey
            ],
            CURLOPT_RETURNTRANSFER => true,
            CURLOPT_URL => $url,
            CURLOPT_USERAGENT => PLUGIN_USER_AGENT,
            CURLOPT_SSL_VERIFYHOST => false,
            CURLOPT_SSL_VERIFYPEER => false,
        ));
        $response = curl_exec($curl);

        if ($response === false || curl_getinfo($curl, CURLINFO_RESPONSE_CODE) != 200) {
            $err = new stdClass;
            $err->success = false;
            $err->error_code = 1003;
            curl_close($curl);
            return $err;
        }
        curl_close($curl);
    }

    $json = json_decode($response);
    $result = array_map($sceneMapper, array_slice($json->data, 0, $limit));

    $ret = new stdClass;
    $ret->success = true;
    $ret->result = $result;
    return $ret;
}

function search_site($input, $limit, $apikey)
{
    $showMapper = function($r) {
        $ret = new stdClass;
        $ret->title = $r->name;
        $ret->summary = empty($r->description) ? $r->name : $r->description;
        $ret->original_available = '0001-01-01';

        $extra = new stdClass;
        $extra->poster = array($r->poster);

        $ret->extra = new stdClass;
        $ret->extra->{'io.github.mczrtoy.ThePornDB'} = $extra;
        return $ret;
    };

    $response = TEST_SITE;
    if (!empty($apikey)) {
        $curl = curl_init();
        $url = API_URL_SITES.http_build_query(array(
                'q' => trim($input->title),
                'page' => 1,
                'per_page' => max(10, $limit)
        ));
        curl_setopt_array($curl, array(
            CURLOPT_HTTPHEADER => [
                'Accept: application/json',
                'Authorization: Bearer '.$apikey
            ],
            CURLOPT_RETURNTRANSFER => true,
            CURLOPT_URL => $url,
            CURLOPT_USERAGENT => PLUGIN_USER_AGENT,
            CURLOPT_SSL_VERIFYHOST => false,
            CURLOPT_SSL_VERIFYPEER => false,
        ));
        $response = curl_exec($curl);

        if ($response === false || curl_getinfo($curl, CURLINFO_RESPONSE_CODE) != 200) {
            $err = new stdClass;
            $err->success = false;
            $err->error_code = 1003;
            curl_close($curl);
            return $err;
        }
        curl_close($curl);
    }

    $json = json_decode($response);
    $result = array_map($showMapper, array_slice($json->data, 0, $limit));

    $ret = new stdClass;
    $ret->success = true;
    $ret->result = $result;
    return $ret;
}
?>